// Merged from @nick/lz4 - single file to avoid bundler issues
// @ts-nocheck

// Immediately-invoked to prevent bundler from lazy-wrapping
const _lz4Module = (() => {
  const WASM_BASE64 =
    "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AAsgACABKAIEIgMgAWpHBEAgACACNgIEIAAgATYCACAEIAA2AgAPCyABIAIgA2o2AgQPCyABKAIEIAJqIQIgASgCACIBQX9GDQEgASgCBCIDIAFqIABHDQEgASACIANqNgIEIAQgATYCAA8LIAAgAjYCBCAAQX82AgAgBCAANgIADwsgBCAANgIAIAAgATYCACAAIAI2AgQLxwEBA38jAEEgayIDJAACQAJAIAEgASACaiIESwRAQQAhAgwBC0EAIQJBCCAEIAAoAgAiAUEBdCIFIAQgBUsbIgQgBEEITRsiBEEASA0AAn8gAUUEQEEAIQEgA0EYagwBCyADQQE2AhggAyAAKAIENgIUIANBHGoLIAE2AgAgA0EIakEBIAQgA0EUahAKIAMoAghBAUcNASADKAIQIQAgAygCDCECCyACEBQACyADKAIMIQEgACAENgIAIAAgATYCBCADQSBqJAALjQIBBH8jAEEwayIAJAACQAJAQcSDwAAoAgBFBEBB3IPAACgCACEBQdyDwABBADYCACABRQ0CIABBGGogARECACAAQRBqIgIgAEEkaikCADcDACAAIAApAhw3AwggACgCGCEBQcSDwAAoAgAiAw0BIAMEQEHIg8AAKAIAQcyDwAAoAgBBBEEEEAwLQciDwAAgATYCAEHEg8AAQQE2AgBBzIPAACAAKQMINwIAQdSDwAAgAEEQaikDADcCAAsgAEEwaiQADwsgAEEoaiACKQMANwIAIAAgACkDCDcCICAAIAE2AhwgAEEBNgIYIABBGGoiACgCAARAIAAoAgQgACgCCEEEQQQQDAsLA0AMAAsAC6wBAQZ/QQEhBkEBIQcjAEEQayIDJAACfyABKAIAIgRFBEBBACEEIANBDGoMAQsgA0EBNgIMIAEoAgQhCCADQQhqCyAENgIAAkAgAygCDCIEBEAgAygCCCEFAkAgAkUEQCAFRQ0BIAggBRAGDAELIAggBSAEIAIiBhAQIgdFDQILIAEgAjYCACABIAc2AgQLQYGAgIB4IQQLIAAgBjYCBCAAIAQ2AgAgA0EQaiQAC2MBAX8CfyADKAIEBEACQCADKAIIIgRFBEAMAQsgAygCACAEIAEgAhAQDAILCyACBEBB4IPAAC0AABogASACEAQMAQsgAQshAyAAIAI2AgggACADIAEgAxs2AgQgACADRTYCAAtmAQN/IwBBEGsiAiQAAkAgACABKAIIIgMgASgCAEkEfyACQQhqIAEgAxAJIAIoAggiA0GBgICAeEcNASABKAIIBSADCzYCBCAAIAEoAgQ2AgAgAkEQaiQADwsgAigCDCEEIAMQFAALWwEBfyMAQRBrIgQkAAJ/IABFBEBBACEAIARBDGoMAQsgBCACNgIMIAAgA2whACAEQQhqCyAANgIAAkAgBCgCDEUNACAEKAIIIgBFDQAgASAAEAYLIARBEGokAAtoAQF/AkAgAEGEAU8EQCAA0HImARAIQdiDwAAoAgAiASAASw0BIAAgAWsiAEHQg8AAKAIATw0BQcyDwAAoAgAgAEECdGpB1IPAACgCADYCAEHUg8AAIAA2AgBBAEEEQQRBBBAMCw8LAAtKAQF/IAIgAWsiAiAAKAIAIAAoAggiA2tLBEAgACADIAIQByAAKAIIIQMLIAIEQCAAKAIEIANqIAEgAvwKAAALIAAgAiADajYCCAs4AAJAIAFpQQFHDQAgAEGAgICAeCABa0sNACAABEBB4IPAAC0AABpBASAAEAQiAUUNAQsgAQ8LAAsuACACIAMQBCICBEAgAyABIAEgA0sbIgMEQCACIAAgA/wKAAALIAAgARAGCyACCzgAAkAgAkGAgMQARg0AIAAgAiABKAIQEQAARQ0AQQEPCyADRQRAQQAPCyAAIANBACABKAIMEQEAC8ASAxJ/An4BbyMAQRBrIg0kACMAQeAAayICJAAgAiABNgJAIAIgADYCPCACIAE2AjggAkEQaiACQThqEAsgAigCECEPAkACQAJAIAIoAhQiEEEDTQRAIAJBBDYCICACQgI3AhgMAQtBACEBAkAgDygAACIJQQBIDQACQCAJRQRAQQAhCUEBIQYMAQtB4IPAAC0AABpBASEBQQEgCRAEIgZFDQELAkAgEEEEayIARQ0AIA9BBGohBSAPIBBqIg5BEyAAIABBE08bayESIAYgCUEzayIAQQAgACAJTRtqIRMgBiAJaiELIAYhAANAIAVBAWohAyAFLQAAIgFBD3EhBwJAIAFB7wFLDQAgB0EPRg0AIAMgEksNACAAIBNPDQADQCAAIAMpAAA3AAAgAEEIaiADQQhqKQAANwAAIAFBBHZBD3EiBSAAaiIBIAdBBGpB/wFxIgBqIQQCQCAAIAEgBmsiByADIAVqIgUvAAAiACAAIAdLGyIASwRAQQAgAGshAyABQQA6AAADQCABIAEgA2oiAC0AADoAACABQQFqIABBAWotAAA6AAAgAUEDaiEAIAFBAmohASAAIARJDQALIAEgBE8EQCABIQAMAgsgASABIANqLQAAOgAADAELIAEgAGsiAEEIaikAACEUIAApAAAhFSABQRBqIABBEGovAAA7AAAgAUEIaiAUNwAAIAEgFTcAACAEIQALIAVBA2ohAyAFLQACIgFBD3EhByABQe8BSw0BIAdBD0YNASADIBJLDQEgACATSQ0ACwsCQAJ/AkACQAJAAn8CQCABQRBPBEACQCABQQR2IgVBD0cEQCADIQQMAQtBACEBA0AgAyAOTw0LIAMtAAAiBSABaiEBIANBAWoiBCEDIAVB/wFGDQALIAFBD2ohBSABIQwLIAUgDiAEa0sNAyAFIAsgAGtLDQECQAJAAkAgBUEETwRAIAVBCEkNASAFQRFJDQIgACAFQXBxaiEKIAAhASAEIQMDQCABIAMpAAA3AAAgAUEIaiADQQhqKQAANwAAIANBEGohAyAKIAFBEGoiAUsNAAsgBUEQayIBIABqIgMgASAEaiIBKQAANwAAIANBCGogAUEIaikAADcAAAwDCyAAIAQtAAA6AAAgBUECSQ0CIAAgBC8AADsAACAFQQJrIgEgAGogASAEai8AADsAAAwCCyAAIAQoAAA2AAAgBUEEayIBIABqIAEgBGooAAA2AAAMAQsgACAEKQAANwAAIAVBCGsiASAAaiABIARqKQAANwAACyAEIAVqIQMgACAFaiEACyAAIQEgAyAOTw0DIA4gA2tBAkkNCCADQQJqIQAgAy8AACERAkAgB0EEaiIDQRNHBEAgACEFDAELQQAhBwNAIAAgDk8EQCAIIQwMCwsgAC0AACIEIAdqIQcgAEEBaiIFIQAgBEH/AUYNAAsgB0ETaiEDIAchCAsgASAGayIAIBFPBEAgACADaiALIAFrIgQgA0kNAhpBACARayEKAkAgA0EPaiIAIBFLDQAgACAESw0AIAEgA2ohAANAIAEgASAKaiIEKQAANwAAIAFBCGogBEEIaikAADcAACABQRBqIgEgAEkNAAsMCAsgAUEAOgAAIAEgA2ohByADQQJJDQUgASEAA0AgACAAIApqIgEtAAA6AAAgAEEBaiABQQFqLQAAOgAAIABBA2ogAEECaiIBIQAgB0kNAAsgASAKagwGCyAJIAZBAUEBEAwgAiAJNgIgIAJBAzYCGCACQQA2AiwgAkKAgICAEDcCJCACQSRqQYKDwABBwIPAABAODAsLIAAgBmsgBWoLIQAgCSAGQQFBARAMIAIgCTYCICACIAA2AhwgAkEANgIYIAJBADYCLCACQoCAgIAQNwIkIAIgAkEcajYCMCACIAJBIGo2AjQgAkECNgI8IAJBrILAADYCOCACQgI3AkQgAkEBNgJcIAJBATYCVCACIAJB0ABqNgJAIAIgAkEwajYCWCACIAJBNGo2AlAgAkEkaiACQThqEAJFDQkDQAwACwALIAkgBkEBQQEQDCACIAk2AiAgAkEBNgIYIAJBADYCLCACQoCAgIAQNwIkIAJBJGpBvILAAEHhgsAAEA4MCAsgASAGayEBDAgLIAEgEWsLIQQgAUEBaiEAIAEgB08EQCABIQAMAQsgASAELQAAOgAACyAFIA5JDQALCyAJIAZBAUEBEAwgAiAJNgIgIAIgDDYCHCACQQI2AhgMAQsgARAUAAsgAkEANgIsIAJCgICAgBA3AiQgAkEkakHhgsAAQYKDwAAQDgsgAigCJCEBIAIoAigiAyACKAIsEAAhFiMAQSBrIgskABAIQdiDwAAoAgAhBEHUg8AAKAIAIQVB1IPAAEIANwIAQcyDwAAoAgAhCkHQg8AAKAIAIQZBzIPAAEIENwIAQciDwAAoAgAhCEHIg8AAQQA2AgACQAJAIAUgBkYEQAJAIAYgCEYEQNByQYABIAggCEGAAU0bIgz8DwEiAEF/Rg0DAkAgBEUEQCAAIQQMAQsgBCAIaiAARw0ECyAIIAxqIgwgCEkNAyAMQf////8DSw0DIAxBAnQiAEH8////B0sNAwJ/IAhFBEBBACEKIAtBGGoMAQsgC0EENgIYIAsgCjYCFCAIQQJ0IQogC0EcagsgCjYCACALQQhqQQQgACALQRRqEAogCygCCEEBRg0DIAsoAgwhCiAIIQAgDCEIDAELIAggBiIATQ0CCyAKIABBAnRqIAZBAWo2AgAgAEEBaiEGCyAFIAZPDQAgCiAFQQJ0aigCACEAQdiDwAAgBDYCAEHUg8AAIAA2AgBB0IPAACAGNgIAQcyDwAAoAgAhDEHMg8AAIAo2AgBByIPAACgCAEHIg8AAIAg2AgAgDEEEQQQQDCALQSBqJAAgBCAFaiEGDAELAAsgBiAWJgEgASADQQFBARAMQYCAgIB4IQkLIBAEQCAPIBAQBgsCfyAJQYCAgIB4RgRAQQEhAUEAIQdBAAwBCyACIAE2AkAgAiAGNgI8IAIgCTYCOCACQQhqIAJBOGoQC0EAIQYgAigCDCEHQQAhASACKAIICyEAIA0gATYCDCANIAY2AgggDSAHNgIEIA0gADYCACACQeAAaiQAIA0oAgAgDSgCBCANKAIIIA0oAgwgDUEQaiQAC9oVAhV/AX4jAEEQayIRJAAjAEHgAGsiBCQAIAQgATYCXCAEIAA2AlggBCABNgJUIARBIGogBEHUAGoiCRALQeCDwAAtAAAaIAQoAiAhBQJAAkACQAJAAkBBASAEKAIkIgpB7gBsQeQAbiIDQRhqIgEQBCIABEAgBEEANgJQIAQgADYCTCAEIAE2AkggBCAKNgJUIARByABqIAkgCUEEahAOQeCDwAAtAAAaIAQgBCgCSDYCXCAEQQQ2AlggBCAEKAJMNgJUAkAgCkH//wNPBEBBBEGAgAEQBCIPRQ0DIA9BAEGAgAH8CwAgBEEYaiESQQAhACADQRRqIAkoAgggCSgCBCIQa0sEf0EBBSAPIAUoAABBsfPd8XlsQRJ2Qfz/AHFqQQA2AgAgBUECayEVIApBDGshEyAJKAIAIgtBAWshFEEBIQEgECEGAkADQCAAIQwgAUEBaiECQSEhAANAIAIhAyAPIAEgBWooAAAiDUGx893xeWxBEnZB/P8AcWoiBygCACECIAcgATYCAAJAIAEgAmsiFkGAgARPDQAgAiAFaigAACANRw0AAkAgASAMTQ0AIAJFDQAgAUEBayEBIAJBAWshAgJAA0AgASAFai0AACACIAVqLQAARw0BIAFBAWshAyACQQFrIQAgAgRAIAEgDEsgAyEBIAAhAg0BCwsgA0EBaiEBIABBAWohAgwBCyABQQFqIQEgAkEBaiECCyABIAxrIQgCQAJAAkAgCiACQQRqIgJrIgMgCiABa0EKayIAQQAgACAKTRsiACAAIANLGyABQQRqIgNqIg0gAUEIak8EQCADIQEMAQsgAyEADAELAkADQCABIAVqKAAAIgcgAiAFaigAACIARgRAIAJBBGohAiABQQhqIAFBBGoiACEBIA1NDQEMAgsLIAAgB3NoQQN2IAFqIQAMAgsLIAIgBWohAQJAIA0gAGtBAU0NACAAIAVqLwAAIAEvAABHDQAgAUECaiEBIABBAmohAAsgACANTw0AIAAgACAFai0AACABLQAARmohAAsgDyAAIBVqKAAAQbHz3fF5bEESdkH8/wBxaiAAQQJrNgIAIAYgC2pBcCAIQQR0IAhBD08bQQ8gACADayIHIAdBD08bcjoAACAGQQFqIQECQAJAIAhBDk0EQCAFIAxqIQIgCEEJTw0BIAEgC2ogAikAADcAAAwCCyAIQQ9rIgJB/AdPBEAgAkH8B24iA0ECdCIGBEAgASALakH/ASAG/AsACyADQYR4bCACaiECIAEgBmohAQsgASALakF/NgAAIBQgAkH//wNxQf8BbiIDIAFqQQFqIgFqIAIgA2o6AAAgBSAMaiECIAhBEUkNACABIAtqIQMgCEEZTwRAIAhFDQIgAyACIAj8CgAADAILIAMgAikAADcAACADQRBqIAJBEGopAAA3AAAgA0EIaiACQQhqKQAANwAADAELIAEgC2oiAyACKQAANwAAIANBCGogAkEIaikAADcAAAsgCSABIAhqIgFBAmoiBjYCBCABIAtqIBY7AAAgB0EOSwRAIAdBD2siAUH8B08EQCABQfwHbiICQQJ0IgMEQCAGIAtqQf8BIAP8CwALIAMgBmohBiACQYR4bCABaiEBCyAGIAtqQX82AAAgCSABQf//A3FB/wFuIgIgBmpBAWoiBjYCBCAGIBRqIAEgAmo6AAALIBMgACIBTw0CDAMLIAMgAEEFdmohAiAAQQFqIQAgEyADIgFPDQALCyAMIQALIAkgBSAKIAAQBSAJKAIEIBBrIQJBAAshACASIAI2AgQgEiAANgIAIAQoAhwhASAEKAIYIQAgD0GAgAEQBgwBC0ECQYDAABAEIgtFDQMgC0EAQYDAAPwLACAEQRBqIRJBACEBQQAhACAEQdQAaiIJKAIEIRACQCAKQe4AbEHkAG5BFGogCSgCCCAQa0sEQEEBIQ8MAQsCQCAKQQ1JDQAgCyAFKAAAQbHz3fF5bEETdkH+P3FqQQA7AQAgBUECayEVIApBDGshEyAJKAIAIghBAWshFEEBIQEgECEGA0AgACEMIAFBAWohAkEhIQADQCACIQMgCyABIAVqKAAAIg1BsfPd8XlsQRN2Qf4/cWoiBy8BACECIAcgATsBAAJAIAEgAmsiFkGAgARPDQAgAiAFaigAACANRw0AAkAgASAMTQ0AIAJFDQAgAUEBayEBIAJBAWshAgJAA0AgASAFai0AACACIAVqLQAARw0BIAFBAWshAyACQQFrIQAgAgRAIAEgDEsgAyEBIAAhAg0BCwsgA0EBaiEBIABBAWohAgwBCyABQQFqIQEgAkEBaiECCyABIAxrIQ4CQAJAAkAgCiACQQRqIgJrIgMgCiABa0EKayIAQQAgACAKTRsiACAAIANLGyABQQRqIgNqIg0gAUEIak8EQCADIQEMAQsgAyEADAELAkADQCABIAVqKAAAIgcgAiAFaigAACIARgRAIAJBBGohAiABQQhqIAFBBGoiACEBIA1NDQEMAgsLIAAgB3NoQQN2IAFqIQAMAgsLIAIgBWohAQJAIA0gAGtBAU0NACAAIAVqLwAAIAEvAABHDQAgAUECaiEBIABBAmohAAsgACANTw0AIAAgACAFai0AACABLQAARmohAAsgCyAAIBVqKAAAQbHz3fF5bEETdkH+P3FqIABBAms7AQAgBiAIakFwIA5BBHQgDkEPTxtBDyAAIANrIgcgB0EPTxtyOgAAIAZBAWohAQJAAkAgDkEOTQRAIAUgDGohAiAOQQlPDQEgASAIaiACKQAANwAADAILIA5BD2siAkH8B08EQCACQfwHbiIDQQJ0IgYEQCABIAhqQf8BIAb8CwALIANBhHhsIAJqIQIgASAGaiEBCyABIAhqQX82AAAgFCACQf//A3FB/wFuIgMgAWpBAWoiAWogAiADajoAACAFIAxqIQIgDkERSQ0AIAEgCGohAyAOQRlPBEAgDkUNAiADIAIgDvwKAAAMAgsgAyACKQAANwAAIANBEGogAkEQaikAADcAACADQQhqIAJBCGopAAA3AAAMAQsgASAIaiIDIAIpAAA3AAAgA0EIaiACQQhqKQAANwAACyAJIAEgDmoiAUECaiIGNgIEIAEgCGogFjsAACAHQQ5LBEAgB0EPayIBQfwHTwRAIAFB/AduIgJBAnQiAwRAIAYgCGpB/wEgA/wLAAsgAyAGaiEGIAJBhHhsIAFqIQELIAYgCGpBfzYAACAJIAFB//8DcUH/AW4iAiAGakEBaiIGNgIEIAYgFGogASACajoAAAsgEyAAIgFPDQIMAwsgAyAAQQV2aiECIABBAWohACATIAMiAU8NAAsLIAwhAAsgCSAFIAogABAFIAkoAgQgEGshAQsgEiABNgIEIBIgDzYCACAEKAIUIQEgBCgCECEAIAtBgMAAEAYLIABBAXENAyAEQThqIgBBCGoiAiABQQRqIgE2AgAgBCAEKQJIIhc3AzggASAXp0kEQCAEQQhqIAAgARAJIAQoAggiAEGBgICAeEcNBQsgBEEwaiACKAIANgIAIAQgBCkDODcDKCAKBEAgBSAKEAYLIAQgBEEoahALIAQoAgQhACARIAQoAgA2AgAgESAANgIEIARB4ABqJAAMBQtBARAUAAtBBBAUAAtBAhAUAAsDQAwACwALIAQoAgwaIAAQFAALIBEoAgAgESgCBCARQRBqJAALEwAgAARAA0AMAAsACwNADAALAAscACAAQQA2AhAgAEIANwIIIABCgICAgMAANwIACxIAIAAoAgAgACgCBEEBQQEQDAsPACAAIAEgASACahAOQQALDQAgAQRAIAAgARAGCwsIACAAIAEQAgvSBgIKfwF+IAAoAgAgASECIwBBEGsiByQAQQohAygCACIFIgBB6AdPBEAgACEBA0AgB0EGaiADaiIEQQNrIAEgAUGQzgBuIgBBkM4AbGsiBkH//wNxQeQAbiIIQQF0IglBmYDAAGotAAA6AAAgBEEEayAJQZiAwABqLQAAOgAAIARBAWsgBiAIQeQAbGtB//8DcUEBdCIGQZmAwABqLQAAOgAAIARBAmsgBkGYgMAAai0AADoAACADQQRrIQMgAUH/rOIESyAAIQENAAsLAkAgAEEJTQRAIAAhAQwBCyADIAdqQQVqIAAgAEH//wNxQeQAbiIBQeQAbGtB//8DcUEBdCIAQZmAwABqLQAAOgAAIANBAmsiAyAHQQZqaiAAQZiAwABqLQAAOgAACyABRSAFQQBHcUUEQCADQQFrIgMgB0EGamogAUEBdEEecUGZgMAAai0AADoAAAsgB0EGaiADaiEGQQAhBEEKIANrIgggAigCCCIBQYCAgAFxIgVBFXZqIQAgAUGAgIAEcUEARyEJQStBgIDEACAFGyELAkAgAi8BDCIDIABLBEACQAJAIAFBgICACHFFBEAgAyAAayEDQQAhAAJAAkACQCABQR12QQNxQQFrDgMAAQACCyADIQAMAQsgA0H+/wNxQQF2IQALIAFB////AHEhCiACKAIEIQUgAigCACECA0AgBEH//wNxIABB//8DcU8NAkEBIQEgBEEBaiEEIAIgCiAFKAIQEQAARQ0ACwwECyACIAIpAggiDKdBgICA/3lxQbCAgIACcjYCCEEBIQEgAigCACIFIAIoAgQiCiALIAkQEQ0DIAMgAGtB//8DcSEAA0AgBEH//wNxIABPDQIgBEEBaiEEIAVBMCAKKAIQEQAARQ0ACwwDC0EBIQEgAiAFIAsgCRARDQIgAiAGIAggBSgCDBEBAA0CIAMgAGtB//8DcSEAQQAhBANAIAAgBEH//wNxTQRAQQAhAQwECyAEQQFqIQQgAiAKIAUoAhARAABFDQALDAILIAUgBiAIIAooAgwRAQANASACIAw3AghBACEBDAELQQEhASACKAIAIgAgAigCBCICIAsgCRARDQAgACAGIAggAigCDBEBACEBCyAHQRBqJAAgAQsL3wMDAEGAgMAAC8ADAgAAAAwAAAAEAAAAAwAAAAQAAAAFAAAAMDAwMTAyMDMwNDA1MDYwNzA4MDkxMDExMTIxMzE0MTUxNjE3MTgxOTIwMjEyMjIzMjQyNTI2MjcyODI5MzAzMTMyMzMzNDM1MzYzNzM4Mzk0MDQxNDI0MzQ0NDU0NjQ3NDg0OTUwNTE1MjUzNTQ1NTU2NTc1ODU5NjA2MTYyNjM2NDY1NjY2NzY4Njk3MDcxNzI3Mzc0NzU3Njc3Nzg3OTgwODE4MjgzODQ4NTg2ODc4ODg5OTA5MTkyOTM5NDk1OTY5Nzk4OTlwcm92aWRlZCBvdXRwdXQgaXMgdG9vIHNtYWxsIGZvciB0aGUgZGVjb21wcmVzc2VkIGRhdGEsIGFjdHVhbCAsIGV4cGVjdGVkIAAA4AAQAD8AAAAfARAACwAAAGxpdGVyYWwgaXMgb3V0IG9mIGJvdW5kcyBvZiB0aGUgaW5wdXRleHBlY3RlZCBhbm90aGVyIGJ5dGUsIGZvdW5kIG5vbmV0aGUgb2Zmc2V0IHRvIGNvcHkgaXMgbm90IGNvbnRhaW5lZCBpbiB0aGUgZGVjb21wcmVzc2VkIGJ1ZmZlcgBBwIPAAAsE/////wBB3IPAAAsBBg==";

  const cachedTextDecoder = new TextDecoder("utf-8", {
    ignoreBOM: true,
    fatal: true,
  });
  cachedTextDecoder.decode();

  // Mutable state
  let wasm = null;
  let cachedMemory = null;
  let vectorLen = 0;

  function base64decode(b64) {
    const binString = atob(b64);
    const size = binString.length;
    const bytes = new Uint8Array(size);
    for (let i = 0; i < size; i++) {
      bytes[i] = binString.charCodeAt(i);
    }
    return bytes;
  }

  function getUint8ArrayMemory0() {
    if (cachedMemory === null || cachedMemory.byteLength === 0) {
      cachedMemory = new Uint8Array(wasm.memory.buffer);
    }
    return cachedMemory;
  }

  function getStringFromWasm0(ptr, len) {
    ptr = ptr >>> 0;
    return cachedTextDecoder.decode(getUint8ArrayMemory0().subarray(ptr, ptr + len));
  }

  function passArray8ToWasm0(arg, malloc) {
    const ptr = malloc(arg.length * 1, 1) >>> 0;
    getUint8ArrayMemory0().set(arg, ptr / 1);
    vectorLen = arg.length;
    return ptr;
  }

  function getArrayU8FromWasm0(ptr, len) {
    ptr = ptr >>> 0;
    return getUint8ArrayMemory0().subarray(ptr / 1, ptr / 1 + len);
  }

  function takeFromExternrefTable0(idx) {
    const value = wasm.__wbindgen_export_0.get(idx);
    wasm.__externref_table_dealloc(idx);
    return value;
  }

  return {
    async init() {
      if (wasm !== null) return;

      const wasmBytes = base64decode(WASM_BASE64);
      const wasmModule = new WebAssembly.Module(wasmBytes);
      const wasmInstance = new WebAssembly.Instance(wasmModule, {
        "./lz4.internal.js": {
          __wbindgen_string_new: (arg0, arg1) => getStringFromWasm0(arg0, arg1),
          __wbindgen_init_externref_table: () => {},
        },
      });
      wasm = wasmInstance.exports;

      // Initialize externref table
      const table = wasm.__wbindgen_export_0;
      const offset = table.grow(4);
      table.set(0, undefined);
      table.set(offset + 0, undefined);
      table.set(offset + 1, null);
      table.set(offset + 2, true);
      table.set(offset + 3, false);
    },

    compress(input) {
      if (wasm === null) {
        throw new Error("LZ4 WASM not initialized - call init() first");
      }
      const ptr0 = passArray8ToWasm0(input, wasm.__wbindgen_malloc);
      const len0 = vectorLen;
      const ret = wasm.compress(ptr0, len0);
      const v2 = getArrayU8FromWasm0(ret[0], ret[1]).slice();
      wasm.__wbindgen_free(ret[0], ret[1] * 1, 1);
      return v2;
    },

    decompress(input) {
      if (wasm === null) {
        throw new Error("LZ4 WASM not initialized - call init() first");
      }
      const ptr0 = passArray8ToWasm0(input, wasm.__wbindgen_malloc);
      const len0 = vectorLen;
      const ret = wasm.decompress(ptr0, len0);
      if (ret[3]) {
        throw takeFromExternrefTable0(ret[2]);
      }
      const v2 = getArrayU8FromWasm0(ret[0], ret[1]).slice();
      wasm.__wbindgen_free(ret[0], ret[1] * 1, 1);
      return v2;
    },
  };
})();

export const init = _lz4Module.init;
export const compress = _lz4Module.compress;
export const decompress = _lz4Module.decompress;
